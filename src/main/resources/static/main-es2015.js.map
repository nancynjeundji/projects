{"version":3,"sources":["/./$_lazy_route_resource lazy namespace object","/./src/app/app.component.html","/./src/app/produits/produits.component.html","/./src/app/app-routing.module.ts","/./src/app/app.component.css","/./src/app/app.component.ts","/./src/app/app.module.ts","/./src/app/catalogue.service.ts","/./src/app/produits/produits.component.css","/./src/app/produits/produits.component.ts","/./src/environments/environment.ts","/./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<nav class=\\\"navbar navbar-inverse\\\">\\n  <div class=\\\"container-fluid\\\">\\n    <div class=\\\"navbar-header\\\">\\n      <a class=\\\"navbar-brand\\\" href=\\\"#\\\">WebSiteName</a>\\n    </div>\\n    <ul class=\\\"nav navbar-nav\\\">\\n      <li class=\\\"active\\\"><a href=\\\"#\\\">Home</a></li>\\n      <li class=\\\"dropdown\\\">\\n        <a class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\">Page 1\\n        <span class=\\\"caret\\\"></span></a>\\n        <ul class=\\\"dropdown-menu\\\">\\n          <li><a href=\\\"#\\\">Page 1-1</a></li>\\n          <li><a href=\\\"#\\\">Page 1-2</a></li>\\n          <li><a href=\\\"#\\\">Page 1-3</a></li>\\n        </ul>\\n      </li>\\n      <li><a href=\\\"#\\\">Page 2</a></li>\\n      <li><a href=\\\"#\\\">Page 3</a></li>\\n    </ul>\\n  </div>\\n</nav>\\n\\n<router-outlet></router-outlet>\\n\\n<!--<div class=\\\"container\\\">\\n  <div class=\\\"col-md-9\\\">\\n    <ul class=\\\"list-group\\\" *ngIf=\\\"categories\\\">\\n      <li class=\\\"list-group-item\\\" *ngFor= \\\"let c of categories._embedded.categories\\\">\\n        {{c.name}}\\n      </li>\\n    </ul>\\n  </div>\\n  <div class=\\\"col-md-9\\\">\\n    \\n  </div>\\n</div> -->\\n\"","module.exports = \"<div class=\\\"row card-deck\\\">\\n<div class=\\\"col-md-6\\\">\\n<div *ngIf =\\\"produits\\\">\\n    <div *ngFor = \\\"let p of produits, let i=index\\\">\\n        <div class=\\\"col-md-6\\\">\\n        <div class=\\\"panel panel-default\\\">\\n            <div class = \\\"panel-heading\\\">{{p.nom}}</div>\\n            <div class= \\\"panel-body\\\">\\n                <table *ngIf=\\\"!p.selected\\\">\\n                    <tr>\\n                        <td>\\n                         <img  class = \\\"card_img-top\\\" src={{p.photo}} height=\\\"100px\\\">\\n                        </td>\\n                        <td>\\n                            {{p.prix}} $\\n                        </td>\\n                    </tr>\\n                    <br>\\n                    <tr >\\n                        <button (click) = \\\"showDetails(i)\\\">Detail</button>\\n                    </tr>\\n                </table>\\n                <table *ngIf=\\\"p.selected\\\">\\n                    <tr>\\n                      description:   {{p.detail}} \\n                    </tr>\\n                    <br>\\n                    <tr>\\n                        <img class = \\\"card_img-top\\\" src={{p.photo}}  height=\\\"100px\\\"> \\n                    </tr>\\n                    <br>\\n                    <tr>\\n                        {{p.prix}} $\\n                    </tr>\\n                    <br>\\n                    <tr>\\n                        <input type=\\\"number\\\" min=\\\"1\\\" max=\\\"9\\\" [(ngModel)]=\\\"quantite\\\">\\n                    </tr>\\n                    <br>\\n                    <tr>\\n                        <td><button (click) = \\\"addToCart(p, quantite)\\\">Ajouter</button></td>\\n                        <td><button  (click) = \\\"hideDetails(i)\\\">Fermer</button></td>\\n                    </tr>\\n                </table>\\n            </div>\\n        </div>\\n        </div>\\n    </div>\\n</div>\\n</div>\\n\\n\\n<div class=\\\"col-md-3\\\">\\n    <div  *ngIf=\\\"!showCart\\\" class=\\\"card text-white bg-danger mb-3\\\" >\\n            <div class=\\\"card-header text-center\\\">Panier</div>\\n            <div class=\\\"card-body\\\">\\n                <h2 class=\\\"card-title text-center\\\">{{nombreArticles}} article(s)</h2>            \\n                <button  (click)=\\\"getCart()\\\">Voir le panier</button>\\n            </div>\\n        </div>\\n\\n        <div *ngIf=\\\"showCart\\\" class=\\\"card text-white bg-danger mb-3\\\" >\\n                <div class=\\\"card-header text-center\\\">Panier</div>\\n                <div class=\\\"card-body\\\">\\n                    \\n                    \\n                    <h6 class=\\\"card-title\\\">Article(s) sélectionné(s):</h6>\\n             \\n                    <ul>\\n                        <li *ngFor=\\\"let art of selectedProduits\\\">\\n                        {{art.quantite}}X ->   {{ art.produit.nom }} - {{ art.produit.prix}} $.\\n                        </li>\\n                    </ul>\\n                    <hr>\\n                    <h5 class=\\\"card-title\\\">Total: {{total}} $</h5>\\n             \\n                    <button class=\\\"btn btn-light btn-block\\\" [disabled]=\\\"nombreArticles <= 0\\\"\\n                         (click) =\\\"postCommande()\\\">valider\\n                    </button>\\n                </div>\\n            </div>\\n\\n\\n</div>\\n\\n</div>\\n\"","import { Routes, RouterModule } from \"@angular/router\";\r\nimport { NgModule } from '@angular/core';\r\nimport { ProduitsComponent } from './produits/produits.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {path:'produits', component: ProduitsComponent},\r\n    {path:'', redirectTo:'produits', pathMatch:'full'}\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes)],\r\n    exports: [RouterModule]\r\n})\r\n\r\nexport class AppRoutingModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { CatalogueService } from './catalogue.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent  implements OnInit{\n\n  private categories;\n\n  constructor(private catService : CatalogueService){}\n\n  ngOnInit(): void {\n   this.getCategories();\n  }\n\n  private getCategories() {\n    this.catService.getResource(\"/categories\")\n      .subscribe( data => {\n        this.categories = data;\n      }, err => {\n        console.log(err);\n      })\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { AppRoutingModule } from 'src/app/app-routing.module';\nimport { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport { ProduitsComponent } from './produits/produits.component';\nimport { FormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ProduitsComponent\n\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    FormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CatalogueService {\n\n  public host: string =\"http://localhost:8080\"\n\n  constructor(private http: HttpClient) { }\n\n  public getResource(url) {\n    return this.http.get(this.host + url);\n\n  }\n\npublic postResource(url, body){\n  return this.http.post(this.host + url, body)\n}\n    \n  \n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1aXRzL3Byb2R1aXRzLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { CatalogueService } from '../catalogue.service';\n\n@Component({\n  selector: 'app-produits',\n  templateUrl: './produits.component.html',\n  styleUrls: ['./produits.component.css']\n})\nexport class ProduitsComponent implements OnInit {\nprivate produits;\nselectedProduits:any[];\ntotal: number;\nshowCart: boolean;\nnombreArticles: number;\n@Input() quantite: number;\n@Input() index: number;\n\n  constructor( private catService :CatalogueService) { }\n\n  ngOnInit() {\n    this.showCart = false;\n    this.total = 0;\n    this.selectedProduits = [];\n    this.getProduits();\n    this.quantite = 1;\n    this.nombreArticles = 0;\n  }\n\n  private getProduits() {\n    this.catService.getResource(\"/produits\")\n      .subscribe( data => {\n        this.produits = data['_embedded'].produits;\n  \n      }, err => {\n        console.log(err);\n      })\n  }\n\n  private arrayToObject = (array) =>\n   array.reduce((obj, item) => {\n     obj[item.id] = item\n     return obj\n   }, {})\n \n  private postCommande() {\n    let pdtCommandes = this.arrayToObject(this.commandeProduitTosend(this.selectedProduits));\n    this.catService.postResource(\"/commandes\",pdtCommandes)\n    .subscribe(() => {\n      console.log('Validé')\n    }, err => {\n      console.log(err)\n    })\n  }\n\n  private showDetails(index){\n    this.produits[index].selected = true;\n    this.quantite = 1;\n  \n  }\n\n  private hideDetails(index){\n    this.produits[index].selected = false;\n  }\n\n\n  private addToCart( produit: any, quantite: number){\n    let commandeProduit = {\n      produit: produit,\n      quantite: quantite\n    }\n    this.selectedProduits.push({produit, quantite});\n    this.total = this.total + (produit.prix*quantite);\n    this.nombreArticles = this.nombreArticles + quantite;\n  }\n\n  \n  private commandeProduitTosend( selectedProduits : any[]){\n\n    let commandeProduits  = [];\n    for (let sp of selectedProduits){\n      let cmdPdt = { \n        id: sp.produit.id,\n        produit: sp.produit,\n        quantite: sp.quantite\n      }\n\n      commandeProduits.push(cmdPdt);\n    }\n    return commandeProduits;\n  }\n\n  private getCart() {\n    this.showCart = true;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}